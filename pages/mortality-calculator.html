<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ ØªÙ„ÙØ§Øª - Ù…Ø±ØºØ¯Ø§Ø±ÛŒ</title>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        .calculator-form {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
            font-size: 1.1em;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            font-family: 'Vazirmatn', sans-serif;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus {
            border-color: #667eea;
            outline: none;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .result-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .result-item h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .result-value {
            font-size: 2em;
            font-weight: bold;
            color: #333;
            margin: 10px 0;
        }
        
        .result-unit {
            color: #666;
            font-size: 0.9em;
        }
        
        .warning-box {
            background: #fff3e0;
            border-right: 5px solid #ff9800;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .warning-box h4 {
            color: #e65100;
            margin-bottom: 10px;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #ff9800, #f44336);
            transition: width 0.3s;
        }
        
        .info-box {
            background: #e3f2fd;
            border-right: 5px solid #2196f3;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
        }
        
        .info-box h3 {
            color: #1976d2;
            margin-bottom: 15px;
        }
        
        .info-box ul {
            list-style: none;
            padding: 0;
        }
        
        .info-box li {
            margin-bottom: 10px;
            color: #555;
            padding-right: 25px;
            position: relative;
        }
        
        .info-box li:before {
            content: "âœ…";
            position: absolute;
            right: 0;
        }
        
        .table-container {
            margin: 20px 0;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: #667eea;
            color: white;
            padding: 12px;
        }
        
        td {
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“‰ Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ ØªÙ„ÙØ§Øª Ù…Ø±ØºØ¯Ø§Ø±ÛŒ</h1>
            <a href="../index.html" class="btn" style="margin-top: 20px;">ğŸ  Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ</a>
        </header>

        <div class="calculator-container">
            <div class="data-table-section">
                <h2>ğŸ“ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¯Ø±ØµØ¯ ØªÙ„ÙØ§Øª Ùˆ Ø¶Ø±Ø± Ù…Ø§Ù„ÛŒ</h2>
                
                <div class="calculator-form">
                    <!-- ØªØ¹Ø¯Ø§Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ Ù¾Ø±Ù†Ø¯Ú¯Ø§Ù† -->
                    <div class="form-group">
                        <label>ğŸ” ØªØ¹Ø¯Ø§Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ Ù¾Ø±Ù†Ø¯Ú¯Ø§Ù†:</label>
                        <input type="number" id="mortalityInitialBirds" min="1" max="100000" value="10000" placeholder="Ù…Ø«Ø§Ù„: 10000">
                        <small style="color: #666;">ØªØ¹Ø¯Ø§Ø¯ Ø¬ÙˆØ¬Ù‡â€ŒÙ‡Ø§ÛŒ ÛŒÚ© Ø±ÙˆØ²Ù‡ Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ÛŒ Ø¯ÙˆØ±Ù‡</small>
                    </div>

                    <!-- ØªØ¹Ø¯Ø§Ø¯ ØªÙ„ÙØ§Øª -->
                    <div class="form-group">
                        <label>ğŸ’” ØªØ¹Ø¯Ø§Ø¯ ØªÙ„ÙØ§Øª:</label>
                        <input type="number" id="mortalityCount" min="0" max="100000" value="350" placeholder="Ù…Ø«Ø§Ù„: 350">
                        <small style="color: #666;">ØªØ¹Ø¯Ø§Ø¯ Ù¾Ø±Ù†Ø¯Ú¯Ø§Ù† ØªÙ„Ù Ø´Ø¯Ù‡ ØªØ§Ú©Ù†ÙˆÙ†</small>
                    </div>

                    <!-- Ù‚ÛŒÙ…Øª Ù‡Ø± Ù¾Ø±Ù†Ø¯Ù‡ -->
                    <div class="form-group">
                        <label>ğŸ’° Ù‚ÛŒÙ…Øª Ù‡Ø± Ù¾Ø±Ù†Ø¯Ù‡ (ØªÙˆÙ…Ø§Ù†):</label>
                        <input type="number" id="mortalityBirdPrice" min="0" max="1000000" value="50000" placeholder="Ù…Ø«Ø§Ù„: 50000">
                        <small style="color: #666;">Ù‚ÛŒÙ…Øª ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ Ù‡Ø± Ù¾Ø±Ù†Ø¯Ù‡</small>
                    </div>

                    <!-- ÙˆØ²Ù† Ù…ØªÙˆØ³Ø· (Ø§Ø®ØªÛŒØ§Ø±ÛŒ) -->
                    <div class="form-group">
                        <label>âš–ï¸ ÙˆØ²Ù† Ù…ØªÙˆØ³Ø· Ù¾Ø±Ù†Ø¯Ù‡ (Ú¯Ø±Ù…):</label>
                        <input type="number" id="mortalityBirdWeight" min="0" max="5000" value="2000" placeholder="Ù…Ø«Ø§Ù„: 2000">
                        <small style="color: #666;">ÙˆØ²Ù† Ù…ØªÙˆØ³Ø· Ù‡Ø± Ù¾Ø±Ù†Ø¯Ù‡ (Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§ÙØª ØªÙˆÙ„ÛŒØ¯)</small>
                    </div>

                    <!-- Ø¯Ú©Ù…Ù‡ Ù…Ø­Ø§Ø³Ø¨Ù‡ -->
                    <div style="text-align: center; margin: 30px 0;">
                        <button class="btn btn-success" onclick="window.calculateMortality()" style="font-size: 1.2em; padding: 15px 40px;">
                            ğŸ“Š Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªÙ„ÙØ§Øª
                        </button>
                    </div>
                </div>

                <!-- Ù†ØªØ§ÛŒØ¬ Ù…Ø­Ø§Ø³Ø¨Ø§Øª -->
                <div class="results-section" id="mortalityResult" style="display: none;">
                    <h3>Ù†ØªØ§ÛŒØ¬ Ù…Ø­Ø§Ø³Ø¨Ø§Øª</h3>
                    <div class="results-grid" id="mortalityResultsGrid">
                        <!-- Ù†ØªØ§ÛŒØ¬ Ø¨Ø§ JavaScript Ù¾Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
                    </div>
                </div>

                <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ ØªÙ„ÙØ§Øª -->
                <div class="data-table-section" style="margin-top: 30px;">
                    <h3>ğŸ“‹ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ ØªÙ„ÙØ§Øª Ø¯Ø± Ø³Ù†ÛŒÙ† Ù…Ø®ØªÙ„Ù</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Ø³Ù† (Ø±ÙˆØ²)</th>
                                    <th>ØªÙ„ÙØ§Øª Ù…Ø¬Ø§Ø²</th>
                                    <th>ØªÙ„ÙØ§Øª Ù‡Ø´Ø¯Ø§Ø±</th>
                                    <th>ØªÙ„ÙØ§Øª Ø¨Ø­Ø±Ø§Ù†ÛŒ</th>
                                    <th>Ø¹Ù„Øª Ø§ØµÙ„ÛŒ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Ù‡ÙØªÙ‡ Ø§ÙˆÙ„ (1-7)</td>
                                    <td>Ú©Ù…ØªØ± Ø§Ø² 1%</td>
                                    <td>1% - 2%</td>
                                    <td>Ø¨ÛŒØ´ØªØ± Ø§Ø² 2%</td>
                                    <td>Ú©ÛŒÙÛŒØª Ø¬ÙˆØ¬Ù‡ØŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡</td>
                                </tr>
                                <tr>
                                    <td>Ù‡ÙØªÙ‡ Ø¯ÙˆÙ… (8-14)</td>
                                    <td>Ú©Ù…ØªØ± Ø§Ø² 0.5%</td>
                                    <td>0.5% - 1%</td>
                                    <td>Ø¨ÛŒØ´ØªØ± Ø§Ø² 1%</td>
                                    <td>Ø¨ÛŒÙ…Ø§Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ú¯ÙˆØ§Ø±Ø´ÛŒ</td>
                                </tr>
                                <tr>
                                    <td>Ù‡ÙØªÙ‡ Ø³ÙˆÙ… (15-21)</td>
                                    <td>Ú©Ù…ØªØ± Ø§Ø² 0.3%</td>
                                    <td>0.3% - 0.7%</td>
                                    <td>Ø¨ÛŒØ´ØªØ± Ø§Ø² 0.7%</td>
                                    <td>Ù…Ø´Ú©Ù„Ø§Øª ØªÙ†ÙØ³ÛŒ</td>
                                </tr>
                                <tr>
                                    <td>Ù‡ÙØªÙ‡ Ú†Ù‡Ø§Ø±Ù… (22-28)</td>
                                    <td>Ú©Ù…ØªØ± Ø§Ø² 0.2%</td>
                                    <td>0.2% - 0.5%</td>
                                    <td>Ø¨ÛŒØ´ØªØ± Ø§Ø² 0.5%</td>
                                    <td>Ú©ÙˆÚ©Ø³ÛŒØ¯ÛŒÙˆØ²ØŒ ØªÙ†ÙØ³ÛŒ</td>
                                </tr>
                                <tr>
                                    <td>Ù‡ÙØªÙ‡ Ù¾Ù†Ø¬Ù… Ø¨Ù‡ Ø¨Ø¹Ø¯</td>
                                    <td>Ú©Ù…ØªØ± Ø§Ø² 0.1%</td>
                                    <td>0.1% - 0.3%</td>
                                    <td>Ø¨ÛŒØ´ØªØ± Ø§Ø² 0.3%</td>
                                    <td>Ø³Ù†Ø¯Ø±Ù… Ù…Ø±Ú¯ Ù†Ø§Ú¯Ù‡Ø§Ù†ÛŒ</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª ØªÙ„ÙØ§Øª -->
                <div class="info-box">
                    <h3>ğŸ’¡ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª ØªÙ„ÙØ§Øª:</h3>
                    <ul>
                        <li><strong>ØªÙ„ÙØ§Øª Ú©Ù…ØªØ± Ø§Ø² 3%:</strong> Ø¹Ø§Ù„ÛŒ - Ù…Ø¯ÛŒØ±ÛŒØª Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ù‡ÛŒØ¯</li>
                        <li><strong>ØªÙ„ÙØ§Øª 3% ØªØ§ 5%:</strong> Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„ - Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù¾Ø§ÛŒØ´ Ø¯Ù‚ÛŒÙ‚â€ŒØªØ±</li>
                        <li><strong>ØªÙ„ÙØ§Øª 5% ØªØ§ 7%:</strong> Ù‡Ø´Ø¯Ø§Ø± - Ø¨Ø±Ø±Ø³ÛŒ Ø¹Ù„Ù„ Ùˆ Ø±ÙØ¹ Ù…Ø´Ú©Ù„</li>
                        <li><strong>ØªÙ„ÙØ§Øª Ø¨ÛŒØ´ØªØ± Ø§Ø² 7%:</strong> Ø¨Ø­Ø±Ø§Ù†ÛŒ - Ù…Ø¯Ø§Ø®Ù„Ù‡ ÙÙˆØ±ÛŒ Ù„Ø§Ø²Ù… Ø§Ø³Øª</li>
                    </ul>
                    <p style="margin-top: 15px; color: #666; font-size: 0.95em;">
                        * ØªÙ„ÙØ§Øª Ù†Ø±Ù…Ø§Ù„ Ø¯Ø± Ú©Ù„ Ø¯ÙˆØ±Ù‡ Ù¾Ø±ÙˆØ±Ø´ (42 Ø±ÙˆØ²) Ø­Ø¯ÙˆØ¯ 4-5% Ø§Ø³Øª
                    </p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª Â© Û±Û´Û°Û´</p>
    </footer>

    <script src="../js/calculator.js"></script>
    
    <!-- Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù…Ø®ØµÙˆØµ Ø§ÛŒÙ† ØµÙØ­Ù‡ -->
    <script>
        window.calculateMortality = function() {
            console.log("âœ… Ø¯Ú©Ù…Ù‡ Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªÙ„ÙØ§Øª Ú©Ù„ÛŒÚ© Ø´Ø¯");
            
            try {
                // Ø¯Ø±ÛŒØ§ÙØª Ù…Ù‚Ø§Ø¯ÛŒØ± Ø§Ø² ÙØ±Ù…
                const initialBirds = parseFloat(document.getElementById('mortalityInitialBirds')?.value);
                const mortalityCount = parseFloat(document.getElementById('mortalityCount')?.value);
                const birdPrice = parseFloat(document.getElementById('mortalityBirdPrice')?.value) || 0;
                const birdWeight = parseFloat(document.getElementById('mortalityBirdWeight')?.value) || 0;

                console.log("Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯:", {initialBirds, mortalityCount, birdPrice, birdWeight});

                // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ
                if (!initialBirds || !mortalityCount) {
                    alert("Ù„Ø·ÙØ§Ù‹ ØªØ¹Ø¯Ø§Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ Ù¾Ø±Ù†Ø¯Ú¯Ø§Ù† Ùˆ ØªØ¹Ø¯Ø§Ø¯ ØªÙ„ÙØ§Øª Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯");
                    return;
                }

                if (initialBirds <= 0 || mortalityCount < 0) {
                    alert("Ù…Ù‚Ø§Ø¯ÛŒØ± ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³ØªÙ†Ø¯");
                    return;
                }

                if (mortalityCount > initialBirds) {
                    alert("ØªØ¹Ø¯Ø§Ø¯ ØªÙ„ÙØ§Øª Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§Ø² ØªØ¹Ø¯Ø§Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨ÛŒØ´ØªØ± Ø¨Ø§Ø´Ø¯");
                    return;
                }

                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¯Ø±ØµØ¯ ØªÙ„ÙØ§Øª âœ…
                const mortalityPercent = (mortalityCount / initialBirds) * 100;
                
                // Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªØ¹Ø¯Ø§Ø¯ Ù¾Ø±Ù†Ø¯Ú¯Ø§Ù† Ø²Ù†Ø¯Ù‡
                const remainingBirds = initialBirds - mortalityCount;
                
                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¶Ø±Ø± Ù…Ø§Ù„ÛŒ
                const financialLoss = mortalityCount * birdPrice;
                
                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§ÙØª ØªÙˆÙ„ÛŒØ¯ (Ø§Ú¯Ø± ÙˆØ²Ù† ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯)
                let productionLoss = 0;
                if (birdWeight > 0) {
                    productionLoss = (mortalityCount * birdWeight) / 1000; // ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…
                }

                // ØªØ¹ÛŒÛŒÙ† ÙˆØ¶Ø¹ÛŒØª ØªÙ„ÙØ§Øª
                let mortalityStatus = '';
                let statusColor = '';
                let statusMessage = '';

                if (mortalityPercent < 3) {
                    mortalityStatus = 'âœ… Ø¹Ø§Ù„ÛŒ';
                    statusColor = '#4caf50';
                    statusMessage = 'Ù…Ø¯ÛŒØ±ÛŒØª Ø¹Ø§Ù„ÛŒ! ØªÙ„ÙØ§Øª Ø¨Ø³ÛŒØ§Ø± Ú©Ù… Ø§Ø³Øª.';
                } else if (mortalityPercent < 5) {
                    mortalityStatus = 'ğŸŸ¡ Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„';
                    statusColor = '#ff9800';
                    statusMessage = 'ØªÙ„ÙØ§Øª Ø¯Ø± Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ù†Ø±Ù…Ø§Ù„ Ø§Ø³Øª.';
                } else if (mortalityPercent < 7) {
                    mortalityStatus = 'âš ï¸ Ù‡Ø´Ø¯Ø§Ø±';
                    statusColor = '#f44336';
                    statusMessage = 'ØªÙ„ÙØ§Øª Ø¨Ø§Ù„Ø§Ø³Øª - Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯.';
                } else {
                    mortalityStatus = 'ğŸ”´ Ø¨Ø­Ø±Ø§Ù†ÛŒ';
                    statusColor = '#d32f2f';
                    statusMessage = 'ØªÙ„ÙØ§Øª Ø¨Ø³ÛŒØ§Ø± Ø¨Ø§Ù„Ø§ - Ù…Ø¯Ø§Ø®Ù„Ù‡ ÙÙˆØ±ÛŒ Ù„Ø§Ø²Ù… Ø§Ø³Øª!';
                }

                // Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬
                const resultDiv = document.getElementById('mortalityResult');
                const resultsGrid = document.getElementById('mortalityResultsGrid');
                
                if (resultDiv && resultsGrid) {
                    resultsGrid.innerHTML = `
                        <!-- Ú©Ø§Ø±Øª Ø¯Ø±ØµØ¯ ØªÙ„ÙØ§Øª âœ… -->
                        <div class="result-item" style="border-top: 5px solid ${statusColor};">
                            <h4>Ø¯Ø±ØµØ¯ ØªÙ„ÙØ§Øª</h4>
                            <div class="result-value" style="color: ${statusColor};">${mortalityPercent.toFixed(2)}%</div>
                            <div class="result-unit">${mortalityCount} Ù¾Ø±Ù†Ø¯Ù‡ ØªÙ„Ù Ø´Ø¯Ù‡</div>
                            <div style="margin-top: 10px; font-size: 0.9em; color: ${statusColor};">${mortalityStatus}</div>
                        </div>
                        
                        <!-- Ú©Ø§Ø±Øª Ø¶Ø±Ø± Ù…Ø§Ù„ÛŒ -->
                        <div class="result-item">
                            <h4>Ø¶Ø±Ø± Ù…Ø§Ù„ÛŒ</h4>
                            <div class="result-value">${financialLoss.toLocaleString()}</div>
                            <div class="result-unit">ØªÙˆÙ…Ø§Ù†</div>
                            <small>Ø¨Ù‡ Ø§Ø²Ø§ÛŒ Ù‡Ø± Ù¾Ø±Ù†Ø¯Ù‡: ${(financialLoss / mortalityCount).toLocaleString()} ØªÙˆÙ…Ø§Ù†</small>
                        </div>
                        
                        <!-- Ú©Ø§Ø±Øª Ù¾Ø±Ù†Ø¯Ú¯Ø§Ù† Ø²Ù†Ø¯Ù‡ -->
                        <div class="result-item">
                            <h4>Ù¾Ø±Ù†Ø¯Ú¯Ø§Ù† Ø²Ù†Ø¯Ù‡</h4>
                            <div class="result-value">${remainingBirds.toLocaleString()}</div>
                            <div class="result-unit">ØªØ¹Ø¯Ø§Ø¯</div>
                            <small>${((remainingBirds / initialBirds) * 100).toFixed(1)}% Ø§Ø² Ú©Ù„</small>
                        </div>
                        
                        <!-- Ú©Ø§Ø±Øª Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† ØªÙ„ÙØ§Øª Ø±ÙˆØ²Ø§Ù†Ù‡ (ÙØ±Ø¶ÛŒ) -->
                        <div class="result-item">
                            <h4>Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø±ÙˆØ²Ø§Ù†Ù‡ ØªÙ„ÙØ§Øª</h4>
                            <div class="result-value">${(mortalityCount / 42).toFixed(1)}</div>
                            <div class="result-unit">Ù¾Ø±Ù†Ø¯Ù‡ Ø¯Ø± Ø±ÙˆØ²</div>
                            <small>Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯ÙˆØ±Ù‡ 42 Ø±ÙˆØ²Ù‡</small>
                        </div>
                    `;

                    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Øª Ø§ÙØª ØªÙˆÙ„ÛŒØ¯ Ø§Ú¯Ø± ÙˆØ²Ù† ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯
                    if (productionLoss > 0) {
                        const lossCard = document.createElement('div');
                        lossCard.className = 'result-item';
                        lossCard.innerHTML = `
                            <h4>Ø§ÙØª ØªÙˆÙ„ÛŒØ¯ Ú¯ÙˆØ´Øª</h4>
                            <div class="result-value">${productionLoss.toFixed(0)}</div>
                            <div class="result-unit">Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…</div>
                            <small>ÙˆØ²Ù† Ø§Ø² Ø¯Ø³Øª Ø±ÙØªÙ‡</small>
                        `;
                        resultsGrid.appendChild(lossCard);
                    }

                    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Øª Ù‡Ø´Ø¯Ø§Ø±
                    const warningCard = document.createElement('div');
                    warningCard.className = 'result-item';
                    warningCard.style.background = '#fff3e0';
                    warningCard.innerHTML = `
                        <h4 style="color: #e65100;">ÙˆØ¶Ø¹ÛŒØª</h4>
                        <div style="font-size: 1.1em; margin: 10px 0;">${statusMessage}</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${Math.min(100, (mortalityPercent / 10) * 100)}%;"></div>
                        </div>
                        <small>Ø´Ø¯Øª ØªÙ„ÙØ§Øª: ${mortalityPercent > 7 ? 'Ø¨Ø­Ø±Ø§Ù†ÛŒ' : mortalityPercent > 5 ? 'Ø²ÛŒØ§Ø¯' : mortalityPercent > 3 ? 'Ù…ØªÙˆØ³Ø·' : 'Ú©Ù…'}</small>
                    `;
                    resultsGrid.appendChild(warningCard);
                    
                    resultDiv.style.display = 'block';
                    
                    // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ù†ØªØ§ÛŒØ¬
                    resultDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }

            } catch (error) {
                console.error("Ø®Ø·Ø§ Ø¯Ø± Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªÙ„ÙØ§Øª:", error);
                alert("Ø®Ø·Ø§ Ø¯Ø± Ù…Ø­Ø§Ø³Ø¨Ø§Øª. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.");
            }
        };

        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ø§ Enter
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = ['mortalityInitialBirds', 'mortalityCount', 'mortalityBirdPrice', 'mortalityBirdWeight'];
            inputs.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('keypress', function(e) {
                        if (e.key === 'Enter') {
                            window.calculateMortality();
                        }
                    });
                }
            });
            
            // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
            console.log("âœ… ØµÙØ­Ù‡ ØªÙ„ÙØ§Øª Ù„ÙˆØ¯ Ø´Ø¯");
        });
    </script>
</body>
</html>
